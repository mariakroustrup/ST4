\subsection{EMG-algoritme} \label{sec:EMG_algo_imp}
For at opfylde kravene fra \autoref{sec:krav_emg_algo} skal hældningen af EMG-signalet findes. 
Dette kan gøres ved differentiering, hvorved det vil være muligt at finde hældningen af én sample ved differentialkvotienten. 
Det vælges at implementere en mere simpel metode til at tilnærmelsesvist at finde hældningen ved \autoref{eq:haeldning}, hvorved tangentens hældning findes.

\begin{equation}
f'(x)\approx\dfrac{\Delta y(x)}{\Delta x}
\label{eq:haeldning}
\end{equation}

\noindent
I \autoref{eq:haeldning} er $\Delta x$ tiden mellem to samples, og $\Delta y(x)$ den målte spænding fra rectus femoris til tiden $x$. 

Hvis $f'(x)>1$ skal der gives et output på $+10$, som signalerer til prototypen, at knæleddet skal flekse. 
Hvis derimod $f'(x)<1$ skal der gives et output på $-10$, som signalerer til prototypen, at knæleddet skal ekstendere. 
Derudover skal funktion give et output på $0$, hvis knæets vinkel ikke befinder sig i intervallet $90$-$180^{\circ}$. Et output på $0$ betegner, at EMG-algoritmen ikke anvendes. 