\subsection{EMG-algoritme}\label{sec:krav_emg_algo}
EMG-algoritmen har til formål at kontrollere fleksion samt ekstension af et exoskelet udfra rectus femoris' muskelaktivitet. 
Hertil sker en fleksion af knæleddet ved en stigende muskelaktivitet og en ekstension ved en faldende muskelaktivitet.
Dette bestemmes ved, at EMG-algoritmen skal finde hældningen af EMG-signalet mellem samples og derefter generere et signal alt efter, om hældningen er aftagende eller stigende. 
Dette signal skal indikere ændringen i outputsignalet. 
Ved en stigning af muskelaktiviteten skal outputtet visualisere +10 og ved et fald i muskelaktiviteten visualisere -10.
For at undgå, at prototypen eksentenderer eller flekser uden for det definerede område for squat-øvelsen, der er beskrevet i \autoref{sec:knaeled_squat} ønskes det, at EMG-algoritmen kun virker, når knæet befinder sig i intervallet $90-180^{\circ}$. 
Ved overskridelse af dette interval skal EMG-algoritmen vise et output på 0.


\vspace{3mm}
\textbf{Krav:}
\begin{itemize}
\item Skal kunne detektere om muskelaktiviteten er faldende eller stigende mellem to samples
\begin{itemize}
\item Ved stigende muskelaktivitet skal dette indikeres som et outputsignal på $+10$
\item Ved faldende muskelaktivitet skal dette indikeres som et outputsignal på $-10$
\end{itemize}
\item Skal kunne indikere, hvis vinklen befinder sig undenfor intervallet $90-180^{\circ}$
\begin{itemize}
\item Dette skal indikeres ved, at outputsignalet bliver $0$
\end{itemize}
\end{itemize}


