\section{Løsningsstrategi}
%Intro til hvad der skal være hjernen i systemet.
Til dette system benyttes komponenter fra Cypress's CY8CKIT-042-BLE udviklingskit. 
Ud fra dette sæt er der udvalgt de nødvendige komponenter, således der kan fortages analog til digital konvertering af de signaler, der måles via sensorer. Yderligere skal systemet være i stand til at kommunikere trådløst med andre enheder, hvilket er muligt ved anvendelse af Bluetooth Low Energy (BLE).


\begin{figure}[H]
\centering
\includegraphics[width=0.5\textwidth]{figures/CY8CKIT-042.png}
\caption{CY8CKIT-042 BLE Pioneer baseboard, samt CY8CKIT-142 PSoC 4 BLE modulet \citep{cypresspsoc2015}.}
\label{fig:CY8CKIT-042}
\end{figure}

\noindent
I \autoref{fig:CY8CKIT-042}, ses de valgte komponenter, der består af et CY8CKIT-042 BLE Pioneer baseboard, som fremover vil refereres til som en mikrokontroller. Derudover et CY8CKIT-142 PSoC 4 BLE modul, der vil refereres til som et BLE-modul, hvilket har en operationsfrekvens på  $2,4~GHz$. Baseboardet er platformen, hvorpå sensorerne vil blive tilkoblet, og hvor de analoge signaler konverteres til digitale signaler. Baseboardet har mulighed for tilkobling af en spændingsforsyning, bestående af et batteri, eller via mikro USB tilslutningen \citep{cypressguide2014}.
Der er mulighed for udvidelse af baseboardet, ved anvendelse af moduler fra Cypress, samt Arduino shields eller 6-pins Digilent Pmod udvidelseskort \citep{cypressguide2014}. 
\\


%\subsection{Analog til digital konvertering}
%CY8CKIT-142 Psoc  4 modulet indeholder en SAR ADC, som gør det muligt at konvertere det analoge signal til et digital. Det er muligt at konfigurere op til 8 analoge kanaler og læse dem samlet eller kun en enkelt indgang ad gangen. Der kan vælges mellem at anvende 8, 10 og 12 bit og kan sample op til 1 MSP'er med en opløsning på 12 bit.  SAR ADC'en understøtter single ended og differentiale indgange. Derudover er det muligt at tilføje en indsprøjtning kanal ved scanningssekvens med firmwarekontrol ved runtime. ADC'en kan den sættes op så den i hardware udfører en gennemsnitsberegning. \citep{ADC2014}
%
%\subsection{Trådløs kommunikation}
%For at kunne kommunikere trådløst benyttes CY8CKIT-142 PSoC 4 BLE, der et Cypress BLE modul. Kommunikationstypen er Bluetooth Low Energy (BLE) \citep{cypressguide2014}, der er en power-effektiv (dansk ord for power???) form for Bluetooth-teknologi. Bluetooth er en standard for kortdistance trådløs teknologi, som muliggør kommunikation mellem flere enheder gennem radiobølger. Dette betyder, at systemet benytter mindre batteri på Bluetooth-kommunikationen, end almindelig Bluetooth gør. Af denne grund kan der benyttes små batterier, uden det bliver nødvendigt at skifte dem ofte \citep{gupta2013}. 
%CY8CKIT-142 PSoC 4 BLE har en operationsfrekvens på $2,4~GHz$ \citep{cypressguide2014}. 
%\\
%
%Ud over de to mikrocontrollere til det endelige system, benyttes en BLE-dongle, der giver mulighed for at en computer kan kommunikere trådløst med systemet. Dette tillader således trådløs test og debugging af systemet. BLE-donglen forsynes via USB-porten på den givne computer med $5~V$ \citep{cypressguide2014}. 
%\\
%
%Til at programmere og debugge mikrokontrollerne, benyttes det tilhørende Cypress software, PSoC Creator 3.3. I dette projekt anvendes programmeringssprog C, men det er muligt også at anvende C\#, Perl og Python.

%Systemet vil består af et baseboard, hvortil signalet fra de forskellige sensorer vil blive tilsluttet. De anvendte sensorer i dette system kan læses i afsnit ??. Systemet har yderligere mulighed for at blive udvidet med arduinu shields og 6-pins Digilent Pmod udvidelses kort \citep{cypressguide2014}. Baseboardet kan forsynes via et 3 V kanpcelle batteri, eller via USB forbindelse. 

%OPerationsspændinger 1,9 V, 3 V, 3,3 V, eller 5 V \citep{cypress2014}. 
%En enhed der benyttes i systemet er Baseboard'et er den primære komponent i dette system, da denne er ansvarlig for databehandling. Baseboard'et kan tilsluttes andre moduler fra Cypress, samt komponenter som for eksempel arduino shields og 6-pins Digilent Pmod udvidelses kort \citep{cypress2014}. Yderligere vil diverse sensorer, anvendt i systemet, blive tilsluttet til baseboard'et, hvortil vil ske en analog-digital konvertering af signalet. Strømforsyningen til baseboard'et består af et 9 V knapcelle batteri, eller ved tilslutning af USB forbindelse.  

%I dette projekt vil baseboardet blive suppleret med et CY8CKIT-142 PSoC \fixme{PSoC: Programmable System-on-Chip} 4 BLE modul til formål at tillade trådløs kommunikation. Kommunikationens typen kaldes for Bluetooth SMART også kendt som Bluetooth Low Energy (BLE) \citep{cypressguide2014}.
%2,4 GHz radio.


%BLE dongle kan tilsluttes en computer, og har en PRoC BLE enhed til kommunikation. Forsynes med 5 V via USB. Dette tilader computeren at kommunikere med systemet, og at teste og debugge systemet.

%Programmerings- og debug værktøjet til det valgte hardware er PSoC Creator 3.3