\section{Test af accelerometer} 
\label{sec:test_acc}
I dette projekt anvendes to accelerometre, som er beskrevet i \autoref{sec:acc}. Disse anvendes som sensorer til opsamling af acceleration, der giver et outputsignal svarende til en spænding. For at kunne anvende et accelerometer er det vigtigt at kende forskellige tolerancer i forhold til deres datablade, hvorfor et forsøg udføres for at kunne tage højde for disse parametre.

\subsection{Formål}
Denne test har til formål at identificere en given spændingen for forskellige vinkler. Derudover identificeres %støjsignaler i outputsignalet samt 
offsettet og sensitiviteten, hvilket gøres for at teste accelerometrenes tolerancer.

\begin{enumerate}
%\item Identificering af støj i outputsignaler for accelerometrene
\item Test af linearitet
\item Identificering af offsettet og sensitiviteten for accelerometrene
\item Identificering af spænding ved forskellige vinkler
\end{enumerate}

\subsection{Materialer}
\begin{itemize}
\item Accelerometre ADXL$335$
\item Tape
\item Vaterpas
\item Breadboard
\item LEGO-model, fremgår af \autoref{vinkeltest}
\item Computer med Scopelogger og MATLAB
\item NI USB-6009
\end{itemize}

\subsection{Metode}
\begin{enumerate}
%\item Der foretages målinger i accelerometerets tre akser og i de seks positioner som accelerometeret, hvorved støj som accelerometeret påvirkes med kan identificeres
\item Der foretages målinger i accelerometerets tre akser i 11 positioner, hvorved der kan testes for linearitet
\item Der foretages målinger i accelerometerets tre akser i de seks positioner, hvorefter offset og sensitiviteten kan beregnes ud fra målingerne. Offsettet beregnes ud fra accelerometerets 0 g-påvirkning, der måles vinkelret på planet, hvilket svarer til at accelerometeret ikke udsættes for tyngdekraften. Sensitiviteten måles ud fra en 1 g-påvirkning
\item Ud fra målingerne ved 0 og 1 g-påvirkning kan spændingen ved $1^(\circ}$ og $90^{\circ}$ kan beregnes ved \autoref{equ:vinkler}
\end{enumerate}

\subsection{Forsøgsopstilling}
Forsøgsopstillingen udføres på samme måde for begge accelerometre.

\textbf{Forsøgsopstilling af formål 1}
\begin{itemize}
\item Accelerometeret tilkobles LEGO-model.
\begin{itemize}
\item Accelerometeret indstilles efter fremgangsmåden for hver øvelse som er illustreret i autoref{sec:fremgangsmaadevinkel}
\end{itemize}
\item Accelerometeret tilkobles NI USB-6009
\item NI USB-6009 tilkobles en computer
\end{itemize}

\textbf{Forsøgsopstilling af formål 2 og 3}
\begin{itemize}
\item Accelerometeret tilkobles breadboardet og fastsættes med tape
\item Accelerometeret indstilles så det er i vater med et vaterpas
\begin{itemize}
\item Accelerometeret placeres efter fremgangsmåden for hver øvelse, som er illustreret i \autoref{sec:acc_fremgangsmaade}
\end{itemize}
\item Accelerometeret tilkobles NI USB-6009
\item NI USB-6009 tilkobles en computer
\end{itemize}

\subsection{Fremgangsmåde} 
Fremgangsmåden er den samme for de to accelerometre, hvor der måles på alle tre akser på accelerometerne 
\textbf{Fremgangsmåde for formål 1} \label{vinkel_fremgangsmaade}
Der foretages 3 forskellige positioner. Hver position måles 1 gang i de forskellige vinkler og samples i 10 sekunder ved 100Hz, hvilket er det dobbelte af båndbredden for accelerometrene \citep{analogdevices2010}. Målingerne er udført på med en LEGO-model, som er illustreret på \autoref{fig:vinkeltest}
\begin{itemize}
\item Accelerometeret måles så det er lodret
\begin{itemize}
\item Målinger fra $0^{\circ}$ til og med $180^{\circ}$ med $20^{\circ}$ interval 
\item Måling ved $90^{\circ}$  
\end{itemize}
\item Accelerometeret måles så det er vandret
\begin{itemize}
\item Målinger fra $0^{\circ}$ til og med $180^{\circ}$ med $20^{\circ}$ interval 
\item Måling ved $90^{\circ}$  
\end{itemize}
\item Accelerometeret måles i plan på bordet
\begin{itemize}
\item Målinger fra $0^{\circ}$ til og med $180^{\circ}$ med $20^{\circ}$ interval 
\item Måling ved $90^{\circ}$  
\end{itemize}
\end{itemize}


\begin{figure}[H]
\centering
\includegraphics[width=0.3\textwidth]{figures/vinkeltest}
\caption{Vinkeltester som anvendes under forsøget til at holde accelerometeret i bestemte vinkler}
\label{fig:vinkeltest}
\end{figure}

\textbf{Fremgangsmåde for formål 2 og 3}\label{sec:acc_fremgangsmaade}
Der foretages seks forskellige positioner. Hver position måles tre gange og samles i 10 sekunder ved 100 Hz, hvilket er det dobbelte af båndbredden for accelerometrene \citep{analogdevices2010}. De forskellige fremgangsmåder er illustreret på \autoref{fig:acc_paavirkning}. 
\begin{itemize}
\item Accelerometeret stilles så det er lodret opad
\item Accelerometeret stilles så det er lodret nedad
\item Accelerometeret stilles så det er vandret mod højre
\item Accelerometeret stilles så det er vandret mod venstre
\item Accelerometeret ligges plan på bordet opad
\item Accelerometeret ligges plan på bordet nedad
\end{itemize}

\begin{figure}[H]
\centering
\includegraphics[width=0.3\textwidth]{figures/acc_paavirkning}
\caption{Påvirkning af accelerometeret i forskellige positioner. Til venstre måles accelerometeret i lodret plan, til højre øverst vandret og til højre nederst i plan \citep{analogdevices2010}}
\label{fig:acc_paavirkning}
\end{figure}

\subsection{Resultater} \fxnote{resultaterne er fra det røde accelerometer}
De viste resultater er for det ene accelerometer, dette er kun vist da sensitiviten og offsettet ændre sig hver hver gang der udføres et forsøg. Det vil derfor ikke være muligt at fastsætte en konstant værdi, hvorfor det kun er nødvendig at kende metoden til at beregne værdierne skal foretages ved hvert forsøg.

Ud fra de tre målinger foretaget i de forskellige positioner beregnes den gennemsnitlige værdi af målingerne på de forskellige akser, herefter disse plottes i en graf, herved er det muligt at se, hvilken akse der påvirkes mest under øvelsen. Målingerne fremgår på \autoref{fig:paavirkning}. 

\begin{figure}[H]
\centering
\includegraphics[width=0.3\textwidth]{figures/paavirkning}
\caption{Påvirkningen af accelerometerets tre akser ved de seks forskellige positioner}
\label{fig:paavirkning}
\end{figure}

Offset beregnes ud fra de målinger, hvor accelerometeret påvirkes med 0 g. Den akse hvor accelerometeret påvirkes med 0 g i de seks positioner fremgår af \autoref{fig:acc_paavirkning}. Resultaterne fra målingerne fremgår af \autoref{Tab:acc_offset}. 

\begin{table}[H]
	\centering
	\begin{tabular}{|l|l|l|}
	\textbf{Målt retning} & \textbf{Målt akse} & \textbf{Offset} \\ \hline
    \textbf{Lodret op} 		& X 		& $1,6793~V$ 	\\ \hline
    \textbf{Lodret op} 		& Z 		& $1,6857~V$ 	 \\ \hline
    \textbf{Lodret ned}		& X 		& $1,6750~V$ 	\\ \hline
    \textbf{Lodret ned}		& Z 		& $1,6806~V$  	\\ \hline
    \textbf{Vandret højre} 	& Y 		& $1,6760~V$    \\ \hline     
    \textbf{Vandret højre} 	& Z 		& $1,6828~V$ 	\\ \hline
    \textbf{Vandret venstre}	& Y 		& $1,6755~V$ 	\\ \hline
    \textbf{Vandret venstre}	& Z 		& $1,6836~V$		\\ \hline
    \textbf{Plan op} 		& X 		& $1,6773~V$		\\ \hline		
    \textbf{Plan op} 		& Y 		& $1,6734~V$    \\ \hline
    \textbf{Plan ned} 		& X 		& $1,6787~V$		\\ \hline
    \textbf{Plan ned} 		& Y 		& $1,6755~V$		\\ \hline
	\end{tabular}
	\caption{Offsettet beregnet for de forskellige akser, hvor accelerometeret udsættes for en 0 g-påvirkning}
	\label{Tab:acc_offset}
\end{table}

Sensitiviten beregnes ud fra forskellen mellem 0 og 1 g-påvirkningen af accelerometeret. Der hvor accelerometeret er påvirket med 1 g er illustreret på \autoref{fig:acc_paavirkning}. Målingerne fremgår af \autoref{Tab:acc_sensitiviteten}. 

\begin{table}[H]
	\centering
	\begin{tabular}{|l|l|l|}
	\textbf{Målt retning} & \textbf{Målt akse} & \textbf{Sensitivitet} \\ \hline
    \textbf{Lodret op} 		& Y		& $0,1092~V/g$ 	\\ \hline
    \textbf{Lodret ned}		& Y 		& $-0,1164~V/g$ 	\\ \hline
    \textbf{Vandret højre} 	& X 		& $0,1130~V/g$     \\ \hline     
    \textbf{Vandret venstre}	& X 		& $-0,1167~V/g$ 	\\ \hline
    \textbf{Plan op} 		& Z 		& $0,1232~V/gV$    	\\ \hline		
    \textbf{Plan ned} 		& Z 		& $-0,1079~V/g$		\\ \hline
	\end{tabular}
	\caption{Sensitiviteten beregnet for de forskellige akser hvor accelerometeret udsættes for en 1 g-påvirkning}
	\label{Tab:acc_offset}
\end{table}

Ud fra senstitivten beregnes spændingen ved $1^{\circ}$ og $90^{\circ}$ i negativ og positiv retning\fxnote{Er der nødvendig med 1 grad?}. Spændingen svarende til $0^{\circ}$ svarer til den målte offsetværdi som fremgår af \autoref{Tab:acc_offset}. Beregningerne af spændingen ved de valgte grader fremgår af \autoref{Tab:acc_grader} og er beregnet ud fra ligning \autoref{equ:vinkler}.

 \begin{table}[H]
	\centering
	\begin{tabular}{|l|l|l|l|}
	\textbf{Målt retning} & \textbf{Målt akse} & \textbf{Spændingen ved grad} & \textbf{Spændingen ved 90 grader} \\ \hline
    \textbf{Positiv} 	& Y		& $1,7985~V$   	&	$12,7589~V$\\ \hline
    \textbf{Negativ}		& Y		& $1,5692~V$  	&	$-8,0339~V$\\ \hline
    \textbf{Positiv} 	& X 		& $1,7917~V$   	& 	$11,5105~V$ \\ \hline     
    \textbf{Negativ}		& X 		& $1,5614~V$		&	$-8,7982~V$\\ \hline
    \textbf{Positiv} 	& Z 		& $1,7924~V$   	& 	$11,8494~V$	\\ \hline		
    \textbf{Negativ} 	& Z 		& $1,5629~V$		&	$-8,8190~V$ \\ \hline
	\end{tabular}
	\caption{Beregnet spænding ved henholdsvis 1 og 90 grader i positiv og negativ retning}
	\label{Tab:acc_grader}
\end{table}





